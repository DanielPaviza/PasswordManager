<UserControl 
			xmlns="https://github.com/avaloniaui"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:vm="clr-namespace:PasswordManager.ViewModels"
            x:DataType="vm:CredentialFormViewModel"
            x:Class="PasswordManager.Views.CredentialFormView"
			xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			mc:Ignorable="d"
			xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
			xmlns:mi="clr-namespace:Material.Icons.Avalonia;assembly=Material.Icons.Avalonia"
			xmlns:faIcons="clr-namespace:FluentAvalonia.FluentIcons;assembly=FluentAvalonia.FluentIcons"
			xmlns:faSymbols="clr-namespace:FluentAvalonia.FluentIcons;assembly=FluentAvalonia.FluentIcons"
			d:DesignWidth="500" d:DesignHeight="600"
			xmlns:t="clr-namespace:PasswordManager.MarkupExtensions;assembly=PasswordManager"
>

	<Grid>
		<StackPanel MaxWidth="400" HorizontalAlignment="Stretch" VerticalAlignment="Center" Spacing="10">

			<TextBlock Text="{t:Translate {Binding Title}}" FontSize="20" FontWeight="Bold" Margin="0,0,0,10" />

			<StackPanel>
				<TextBlock Margin="0,4" Text="{t:Translate service_name}" />
				<TextBox
					BorderBrush="{Binding ServiceNameError, Converter={StaticResource ValidationStringToColorConverter}}"
					Text="{Binding Credential.ServiceName}" 
				/>
			</StackPanel>

			<StackPanel>
				<TextBlock Margin="0,4" Text="{t:Translate username}" />
				<TextBox Text="{Binding Credential.Username}" />
				<CheckBox Content="{t:Translate mask_in_default}" IsChecked="{Binding Credential.MaskUsername}" />
			</StackPanel>

			<StackPanel>
				<TextBlock Margin="0,4" Text="{t:Translate password}" />
				<Grid ColumnDefinitions="*,Auto">
					<TextBox 
						Text="{Binding Credential.Password}" 
						BorderBrush="{Binding PasswordError, Converter={StaticResource ValidationStringToColorConverter}}"
						PasswordChar="{Binding ShowPassword, Converter={StaticResource PasswordCharConverter}}"
						Grid.Column="0" />

					<Button Grid.Column="1" 
							VerticalAlignment="Top"
							Margin="5,0,0,0"
							Command="{Binding ToggleShowPasswordCommand}"
							>
							<PathIcon Height="20" Width="20" Foreground="Blue"
										Data="{Binding ShowPassword, Converter={StaticResource PasswordShowIconConverter}}"/>
					</Button>
				</Grid>
				<CheckBox Content="{t:Translate mask_in_default}" IsChecked="{Binding Credential.MaskPassword}" />
			</StackPanel>

			<StackPanel>
				<TextBlock Margin="0,4" Text="{t:Translate note}" />
				<TextBox AcceptsReturn="True" TextWrapping="Wrap" Height="100" Text="{Binding Credential.Note}" />
			</StackPanel>

			<DockPanel LastChildFill="True">
				<Button Content="{t:Translate cancel}"
						Command="{Binding NavigateToVaultCommand}"
						DockPanel.Dock="Left" />
				<Button Content="{t:Translate save}"
						Command="{Binding SaveCredentialCommand}"
						HorizontalAlignment="Right" />
			</DockPanel>

		</StackPanel>
	</Grid>
	
</UserControl>
